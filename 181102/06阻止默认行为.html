<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>阻止默认行为</title>
  <style>
    div {
        margin-bottom: 10px;
      }
    </style>
</head>

<body>
  <form>
    <div>
      <label for="userName">用户名: </label>
      <input id="userName" type="text">
      <p>不达标</p>
    </div>
    <div>
      <label for="psw">密码 </label>
      <input id="psw" type="text">
    </div>
    <div>
      <input id="submit" type="submit">
    </div>
  </form>
  <p></p>
  <script>
    //初始化获取元素
    var form = document.querySelector('form');
    var userName = document.getElementById('userName');
    var psw = document.getElementById('psw');
    // var para = document.querySelector('p');
    var userNameError = document.getElementById('userNameError');
    var pswError = document.getElementById('pswError');
    // console.log(error);

    var flagUserName = true;//表示uerName的值不合格
    var flagPsw = true;//表示psw的值不合格


    //用户名框获得焦点
    userName.focus();

    form.onsubmit = function (e) {
      //获取用户名框的值并求出长度，根据长度判断是否显示出错提示及是否提交因子状态
      if (userName.value.length > 4 && userName.value.length < 10) {
        //用户名达标
        flagUserName = false;
        userNameError.style.display = "none";
      }
      else {
        //用户名不达标
        userNameError.style.display = "inline";
        flagUserName = true;
      }
      //获取用户密码，并判断
      if (psw.value.length > 1) {
        //达标
        flagPsw = false;
        pswError.style.display = "none";
      }
      else {
        //不达标
        flagPsw = true;
        pswError.style.display = "inline";
      }
      if (flagUserName || flagPsw) {
        //用户名和密码二者有一项不达标都不能提交（阻止默认动作）
        e.prevenDefault();
      }
    }

      // form.onsubmit = function(e) {
      //   if(userName.value === '' || psw.value === '') {
      //     e.preventDefault();
      //     para.textContent = '用户名/密码不能为空'
      //   }
      // }

  </script>
</body>

</html>